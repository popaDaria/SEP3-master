#pragma checksum "D:\THIRD SEMESTER\SEP3\SEP3-master-Bogdan\SEP3\Pages\HospitalPage.razor" "{ff1816ec-aa5e-4d10-87f7-6f4963833460}" "d20053954550466e66941de5b9dd74d2de5522c5"
// <auto-generated/>
#pragma warning disable 1591
namespace SEP3.Pages
{
    #line hidden
    using System;
    using System.Collections.Generic;
    using System.Linq;
    using System.Threading.Tasks;
    using Microsoft.AspNetCore.Components;
#nullable restore
#line 1 "D:\THIRD SEMESTER\SEP3\SEP3-master-Bogdan\SEP3\_Imports.razor"
using System.Net.Http;

#line default
#line hidden
#nullable disable
#nullable restore
#line 2 "D:\THIRD SEMESTER\SEP3\SEP3-master-Bogdan\SEP3\_Imports.razor"
using Microsoft.AspNetCore.Authorization;

#line default
#line hidden
#nullable disable
#nullable restore
#line 3 "D:\THIRD SEMESTER\SEP3\SEP3-master-Bogdan\SEP3\_Imports.razor"
using Microsoft.AspNetCore.Components.Authorization;

#line default
#line hidden
#nullable disable
#nullable restore
#line 4 "D:\THIRD SEMESTER\SEP3\SEP3-master-Bogdan\SEP3\_Imports.razor"
using Microsoft.AspNetCore.Components.Forms;

#line default
#line hidden
#nullable disable
#nullable restore
#line 5 "D:\THIRD SEMESTER\SEP3\SEP3-master-Bogdan\SEP3\_Imports.razor"
using Microsoft.AspNetCore.Components.Routing;

#line default
#line hidden
#nullable disable
#nullable restore
#line 6 "D:\THIRD SEMESTER\SEP3\SEP3-master-Bogdan\SEP3\_Imports.razor"
using Microsoft.AspNetCore.Components.Web;

#line default
#line hidden
#nullable disable
#nullable restore
#line 7 "D:\THIRD SEMESTER\SEP3\SEP3-master-Bogdan\SEP3\_Imports.razor"
using Microsoft.JSInterop;

#line default
#line hidden
#nullable disable
#nullable restore
#line 8 "D:\THIRD SEMESTER\SEP3\SEP3-master-Bogdan\SEP3\_Imports.razor"
using SEP3;

#line default
#line hidden
#nullable disable
#nullable restore
#line 9 "D:\THIRD SEMESTER\SEP3\SEP3-master-Bogdan\SEP3\_Imports.razor"
using SEP3.Shared;

#line default
#line hidden
#nullable disable
#nullable restore
#line 2 "D:\THIRD SEMESTER\SEP3\SEP3-master-Bogdan\SEP3\Pages\HospitalPage.razor"
using Syncfusion.Blazor.Navigations;

#line default
#line hidden
#nullable disable
#nullable restore
#line 3 "D:\THIRD SEMESTER\SEP3\SEP3-master-Bogdan\SEP3\Pages\HospitalPage.razor"
using Syncfusion.Blazor.InPlaceEditor;

#line default
#line hidden
#nullable disable
#nullable restore
#line 4 "D:\THIRD SEMESTER\SEP3\SEP3-master-Bogdan\SEP3\Pages\HospitalPage.razor"
using SEP3.Model;

#line default
#line hidden
#nullable disable
#nullable restore
#line 5 "D:\THIRD SEMESTER\SEP3\SEP3-master-Bogdan\SEP3\Pages\HospitalPage.razor"
using SEP3.Data;

#line default
#line hidden
#nullable disable
#nullable restore
#line 6 "D:\THIRD SEMESTER\SEP3\SEP3-master-Bogdan\SEP3\Pages\HospitalPage.razor"
using SEP3.Auth;

#line default
#line hidden
#nullable disable
#nullable restore
#line 7 "D:\THIRD SEMESTER\SEP3\SEP3-master-Bogdan\SEP3\Pages\HospitalPage.razor"
using Syncfusion.Blazor.Buttons;

#line default
#line hidden
#nullable disable
#nullable restore
#line 8 "D:\THIRD SEMESTER\SEP3\SEP3-master-Bogdan\SEP3\Pages\HospitalPage.razor"
using Syncfusion.Blazor.Maps;

#line default
#line hidden
#nullable disable
#nullable restore
#line 9 "D:\THIRD SEMESTER\SEP3\SEP3-master-Bogdan\SEP3\Pages\HospitalPage.razor"
using RenderMode = Syncfusion.Blazor.InPlaceEditor.RenderMode;

#line default
#line hidden
#nullable disable
#nullable restore
#line 10 "D:\THIRD SEMESTER\SEP3\SEP3-master-Bogdan\SEP3\Pages\HospitalPage.razor"
using InputType = Syncfusion.Blazor.InPlaceEditor.InputType;

#line default
#line hidden
#nullable disable
#nullable restore
#line 12 "D:\THIRD SEMESTER\SEP3\SEP3-master-Bogdan\SEP3\Pages\HospitalPage.razor"
using locationiq.Api;

#line default
#line hidden
#nullable disable
#nullable restore
#line 13 "D:\THIRD SEMESTER\SEP3\SEP3-master-Bogdan\SEP3\Pages\HospitalPage.razor"
using locationiq.Client;

#line default
#line hidden
#nullable disable
#nullable restore
#line 14 "D:\THIRD SEMESTER\SEP3\SEP3-master-Bogdan\SEP3\Pages\HospitalPage.razor"
using Newtonsoft.Json;

#line default
#line hidden
#nullable disable
#nullable restore
#line 15 "D:\THIRD SEMESTER\SEP3\SEP3-master-Bogdan\SEP3\Pages\HospitalPage.razor"
using System.Web;

#line default
#line hidden
#nullable disable
    [Microsoft.AspNetCore.Components.RouteAttribute("/hospital/{id}")]
    public partial class HospitalPage : Microsoft.AspNetCore.Components.ComponentBase
    {
        #pragma warning disable 1998
        protected override void BuildRenderTree(Microsoft.AspNetCore.Components.Rendering.RenderTreeBuilder __builder)
        {
            __builder.AddMarkupContent(0, "<link href=\"css/profile.css\" type=\"text/css\" rel=\"stylesheet\">\n");
#nullable restore
#line 24 "D:\THIRD SEMESTER\SEP3\SEP3-master-Bogdan\SEP3\Pages\HospitalPage.razor"
 if (hospital == null)
{

#line default
#line hidden
#nullable disable
            __builder.AddContent(1, "    ");
            __builder.AddMarkupContent(2, "<div class=\"d-flex\">\n        <div class=\"spinner-grow text-light align-middle spinner\" role=\"status\">\n            <span class=\"sr-only\">Loading...</span>\n        </div>\n    </div>\n");
#nullable restore
#line 31 "D:\THIRD SEMESTER\SEP3\SEP3-master-Bogdan\SEP3\Pages\HospitalPage.razor"
}
else
{

#line default
#line hidden
#nullable disable
            __builder.AddContent(3, "    ");
            __builder.OpenElement(4, "div");
            __builder.AddAttribute(5, "class", "container");
            __builder.AddAttribute(6, "style", "box-sizing: border-box; padding-top: 5%; padding-bottom: 5%;");
            __builder.AddMarkupContent(7, "\n        ");
            __builder.OpenElement(8, "div");
            __builder.AddAttribute(9, "class", "emp-profile container p-3");
            __builder.AddMarkupContent(10, "\n            ");
            __builder.OpenElement(11, "form");
            __builder.AddAttribute(12, "method", "post");
            __builder.AddMarkupContent(13, "\n                ");
            __builder.OpenElement(14, "div");
            __builder.AddAttribute(15, "class", "row");
            __builder.AddMarkupContent(16, "\n                    ");
            __builder.AddMarkupContent(17, @"<div class=""col-lg-4"">
                        <div class=""profile-img"">
                            <img src=""images/weed.jpg"" alt>
                        </div>
                    </div>
                    <div class=""col-lg-1""></div>
                    ");
            __builder.OpenElement(18, "div");
            __builder.AddAttribute(19, "class", "col-lg-3");
            __builder.AddMarkupContent(20, "\n                        ");
            __builder.OpenElement(21, "div");
            __builder.AddAttribute(22, "class", "profile-head");
            __builder.AddMarkupContent(23, "\n                            ");
            __builder.OpenElement(24, "h3");
            __builder.AddAttribute(25, "align", "center");
            __builder.AddMarkupContent(26, "\n                                ");
            __builder.AddContent(27, 
#nullable restore
#line 47 "D:\THIRD SEMESTER\SEP3\SEP3-master-Bogdan\SEP3\Pages\HospitalPage.razor"
                                 hospital.name

#line default
#line hidden
#nullable disable
            );
            __builder.AddMarkupContent(28, "\n                            ");
            __builder.CloseElement();
            __builder.AddMarkupContent(29, "\n                            ");
            __builder.OpenElement(30, "h4");
            __builder.AddAttribute(31, "align", "center");
            __builder.AddMarkupContent(32, "\n                                ");
            __builder.AddContent(33, 
#nullable restore
#line 50 "D:\THIRD SEMESTER\SEP3\SEP3-master-Bogdan\SEP3\Pages\HospitalPage.razor"
                                 hospital.type.ToUpper()

#line default
#line hidden
#nullable disable
            );
            __builder.AddMarkupContent(34, "\n                            ");
            __builder.CloseElement();
            __builder.AddMarkupContent(35, "\n                            ");
            __builder.OpenElement(36, "h6");
            __builder.AddAttribute(37, "align", "center");
            __builder.AddMarkupContent(38, "\n                                ");
            __builder.AddContent(39, 
#nullable restore
#line 53 "D:\THIRD SEMESTER\SEP3\SEP3-master-Bogdan\SEP3\Pages\HospitalPage.razor"
                                 hospital.postalCode

#line default
#line hidden
#nullable disable
            );
            __builder.AddMarkupContent(40, "\n                            ");
            __builder.CloseElement();
            __builder.AddMarkupContent(41, "\n                            ");
            __builder.OpenElement(42, "div");
            __builder.AddAttribute(43, "class", "center-align");
            __builder.AddMarkupContent(44, "\n                                ");
            __builder.OpenElement(45, "p");
            __builder.AddMarkupContent(46, "\n                                    ");
            __builder.AddContent(47, 
#nullable restore
#line 57 "D:\THIRD SEMESTER\SEP3\SEP3-master-Bogdan\SEP3\Pages\HospitalPage.razor"
                                     hospital.info

#line default
#line hidden
#nullable disable
            );
            __builder.AddMarkupContent(48, "\n                                ");
            __builder.CloseElement();
            __builder.AddMarkupContent(49, "\n                            ");
            __builder.CloseElement();
            __builder.AddMarkupContent(50, "\n                        ");
            __builder.CloseElement();
            __builder.AddMarkupContent(51, "\n                    ");
            __builder.CloseElement();
            __builder.AddMarkupContent(52, "\n                    \n                    ");
            __builder.AddMarkupContent(53, "<div class=\"col-lg-4 text-center\">\n                    </div>\n\n                    ");
            __builder.OpenElement(54, "div");
            __builder.AddAttribute(55, "class", "container mt-3 mb-3");
            __builder.AddMarkupContent(56, "\n                        ");
            __builder.OpenComponent<Syncfusion.Blazor.Maps.SfMaps>(57);
            __builder.AddAttribute(58, "ModelType", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<System.Type>(
#nullable restore
#line 67 "D:\THIRD SEMESTER\SEP3\SEP3-master-Bogdan\SEP3\Pages\HospitalPage.razor"
                                            typeof(IDataTemplate)

#line default
#line hidden
#nullable disable
            ));
            __builder.AddAttribute(59, "ChildContent", (Microsoft.AspNetCore.Components.RenderFragment)((__builder2) => {
                __builder2.AddMarkupContent(60, "\n                            ");
                __builder2.OpenComponent<Syncfusion.Blazor.Maps.MapsTitleSettings>(61);
                __builder2.AddAttribute(62, "Text", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<System.String>(
#nullable restore
#line 68 "D:\THIRD SEMESTER\SEP3\SEP3-master-Bogdan\SEP3\Pages\HospitalPage.razor"
                                                      addressHeader

#line default
#line hidden
#nullable disable
                ));
                __builder2.CloseComponent();
                __builder2.AddMarkupContent(63, "\n                            ");
                __builder2.OpenComponent<Syncfusion.Blazor.Maps.MapsCenterPosition>(64);
                __builder2.AddAttribute(65, "Latitude", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<System.Double>(
#nullable restore
#line 69 "D:\THIRD SEMESTER\SEP3\SEP3-master-Bogdan\SEP3\Pages\HospitalPage.razor"
                                                           lat

#line default
#line hidden
#nullable disable
                ));
                __builder2.AddAttribute(66, "Longitude", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<System.Double>(
#nullable restore
#line 69 "D:\THIRD SEMESTER\SEP3\SEP3-master-Bogdan\SEP3\Pages\HospitalPage.razor"
                                                                            lon

#line default
#line hidden
#nullable disable
                ));
                __builder2.CloseComponent();
                __builder2.AddMarkupContent(67, "\n                            ");
                __builder2.OpenComponent<Syncfusion.Blazor.Maps.MapsZoomSettings>(68);
                __builder2.AddAttribute(69, "Enable", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<System.Boolean>(
#nullable restore
#line 70 "D:\THIRD SEMESTER\SEP3\SEP3-master-Bogdan\SEP3\Pages\HospitalPage.razor"
                                                      true

#line default
#line hidden
#nullable disable
                ));
                __builder2.AddAttribute(70, "Toolbars", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<System.String[]>(
#nullable restore
#line 71 "D:\THIRD SEMESTER\SEP3\SEP3-master-Bogdan\SEP3\Pages\HospitalPage.razor"
                                                        new string[] {"Zoom", "ZoomIn", "ZoomOut", "Pan", "Reset"}

#line default
#line hidden
#nullable disable
                ));
                __builder2.AddAttribute(71, "ShouldZoomInitially", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<System.Boolean>(
#nullable restore
#line 71 "D:\THIRD SEMESTER\SEP3\SEP3-master-Bogdan\SEP3\Pages\HospitalPage.razor"
                                                                                                                                         false

#line default
#line hidden
#nullable disable
                ));
                __builder2.AddAttribute(72, "MaxZoom", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<System.Double>(
#nullable restore
#line 71 "D:\THIRD SEMESTER\SEP3\SEP3-master-Bogdan\SEP3\Pages\HospitalPage.razor"
                                                                                                                                                         20

#line default
#line hidden
#nullable disable
                ));
                __builder2.AddAttribute(73, "MinZoom", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<System.Double>(
#nullable restore
#line 71 "D:\THIRD SEMESTER\SEP3\SEP3-master-Bogdan\SEP3\Pages\HospitalPage.razor"
                                                                                                                                                                      15

#line default
#line hidden
#nullable disable
                ));
                __builder2.AddAttribute(74, "ZoomFactor", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<System.Double>(
#nullable restore
#line 71 "D:\THIRD SEMESTER\SEP3\SEP3-master-Bogdan\SEP3\Pages\HospitalPage.razor"
                                                                                                                                                                                      15

#line default
#line hidden
#nullable disable
                ));
                __builder2.CloseComponent();
                __builder2.AddMarkupContent(75, "\n\n                            ");
                __builder2.OpenComponent<Syncfusion.Blazor.Maps.MapsLayers>(76);
                __builder2.AddAttribute(77, "ChildContent", (Microsoft.AspNetCore.Components.RenderFragment)((__builder3) => {
                    __builder3.AddMarkupContent(78, "\n                                ");
                    __builder3.OpenComponent<Syncfusion.Blazor.Maps.MapsLayer>(79);
                    __builder3.AddAttribute(80, "LayerType", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<Syncfusion.Blazor.Maps.ShapeLayerType>(
#nullable restore
#line 76 "D:\THIRD SEMESTER\SEP3\SEP3-master-Bogdan\SEP3\Pages\HospitalPage.razor"
                                                      ShapeLayerType.OSM

#line default
#line hidden
#nullable disable
                    ));
                    __builder3.AddAttribute(81, "UrlTemplate", "http://mt1.google.com/vt/lyrs=m@129&hl=en&x=tileX&y=tileY&z=level");
                    __builder3.AddAttribute(82, "ChildContent", (Microsoft.AspNetCore.Components.RenderFragment)((__builder4) => {
                        __builder4.AddMarkupContent(83, "\n                                    ");
                        __builder4.OpenComponent<Syncfusion.Blazor.Maps.MapsMarkerSettings>(84);
                        __builder4.AddAttribute(85, "ChildContent", (Microsoft.AspNetCore.Components.RenderFragment)((__builder5) => {
                            __builder5.AddMarkupContent(86, "\n                                        ");
                            __builder5.OpenComponent<Syncfusion.Blazor.Maps.MapsMarker>(87);
                            __builder5.AddAttribute(88, "Visible", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<System.Boolean>(
#nullable restore
#line 78 "D:\THIRD SEMESTER\SEP3\SEP3-master-Bogdan\SEP3\Pages\HospitalPage.razor"
                                                             true

#line default
#line hidden
#nullable disable
                            ));
                            __builder5.AddAttribute(89, "DataSource", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<System.Object>(
#nullable restore
#line 78 "D:\THIRD SEMESTER\SEP3\SEP3-master-Bogdan\SEP3\Pages\HospitalPage.razor"
                                                                                MarkerDatas

#line default
#line hidden
#nullable disable
                            ));
                            __builder5.AddAttribute(90, "ChildContent", (Microsoft.AspNetCore.Components.RenderFragment)((__builder6) => {
                                __builder6.AddMarkupContent(91, "\n                                                ");
                                __builder6.OpenComponent<Syncfusion.Blazor.Maps.MapsMarkerTooltipSettings>(92);
                                __builder6.AddAttribute(93, "Visible", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<System.Boolean>(
#nullable restore
#line 80 "D:\THIRD SEMESTER\SEP3\SEP3-master-Bogdan\SEP3\Pages\HospitalPage.razor"
                                                                                    true

#line default
#line hidden
#nullable disable
                                ));
                                __builder6.AddAttribute(94, "ValuePath", "Name");
                                __builder6.CloseComponent();
                                __builder6.AddMarkupContent(95, "\n                                            ");
                            }
                            ));
                            __builder5.AddAttribute(96, "MarkerTemplate", (Microsoft.AspNetCore.Components.RenderFragment<System.Object>)((context) => (__builder6) => {
                                __builder6.AddMarkupContent(97, "\n");
                                __builder6.AddContent(98, "                                                    ");
                                __builder6.AddMarkupContent(99, "<div>\n                                                        <img class=\"markerTemplate\" style=\"margin-top:-10px;margin-left:-10px;\" src=\"images/balloon.png\">\n                                                    </div>\n");
                                __builder6.AddContent(100, "                                            ");
                            }
                            ));
                            __builder5.CloseComponent();
                            __builder5.AddMarkupContent(101, "\n                                    ");
                        }
                        ));
                        __builder4.CloseComponent();
                        __builder4.AddMarkupContent(102, "\n                                ");
                    }
                    ));
                    __builder3.CloseComponent();
                    __builder3.AddMarkupContent(103, "\n                            ");
                }
                ));
                __builder2.CloseComponent();
                __builder2.AddMarkupContent(104, "\n                        ");
            }
            ));
            __builder.CloseComponent();
            __builder.AddMarkupContent(105, "\n                    ");
            __builder.CloseElement();
            __builder.AddMarkupContent(106, "\n                ");
            __builder.CloseElement();
            __builder.AddMarkupContent(107, "\n                <br>\n            ");
            __builder.CloseElement();
            __builder.AddMarkupContent(108, "\n        ");
            __builder.CloseElement();
            __builder.AddMarkupContent(109, "\n    ");
            __builder.CloseElement();
            __builder.AddMarkupContent(110, "\n");
#nullable restore
#line 100 "D:\THIRD SEMESTER\SEP3\SEP3-master-Bogdan\SEP3\Pages\HospitalPage.razor"
}

#line default
#line hidden
#nullable disable
            __builder.AddMarkupContent(111, "\n\n");
            __builder.AddMarkupContent(112, "<style>\n    .markerTemplate {\n        height: 30px;\n        width: 20px;\n        display: block;\n        margin: auto;\n        font-size: 14px;\n        object-fit: cover;\n    }\n    \n    .SfMaps {\n    border-radius: 20px;\n    }\n    \n</style>");
        }
        #pragma warning restore 1998
#nullable restore
#line 102 "D:\THIRD SEMESTER\SEP3\SEP3-master-Bogdan\SEP3\Pages\HospitalPage.razor"
       
    Hospital hospital;
    public string addressHeader;
    double lon = 10;
    double lat = 10;


    public class MarkerData
    {
        public string Name;
        public double Latitude;
        public double Longitude;
    }

    public List<MarkerData> MarkerDatas = new List<MarkerData>();


    [Parameter]
    public string id { get; set; }


    protected override async Task OnInitializedAsync()
    {
        hospital = await CloudHospitalService.GetHospital(Int32.Parse(id));
        addressHeader = "The address of " + hospital.name + ": " + hospital.address;
        await GetCoordinates();
        MarkerDatas.Add(new MarkerData {Name = "Map", Latitude = lat, Longitude = lon});
    }

    public async Task GetCoordinates()
    {
        HttpClient client = new HttpClient();
        HttpResponseMessage message = await client.GetAsync("https://us1.locationiq.com/v1/search.php?key=pk.c4b221acbc78318a8f75e22369de4311&format=json&q=" + HttpUtility.UrlEncode(hospital.address));
        string content = await message.Content.ReadAsStringAsync();
    //Console.WriteLine(message.Content.ReadAsStringAsync().Result);
    // string result = JsonConvert.DeserializeObject<string>(content);
        string result = content;
        if (result.Length > 40)
        {
            string[] contents = result.Split(",");
            string latCont="";
            string lonCont="";
            foreach (var x in contents)
            {
                if (x.Contains("\"lat\":"))
                    latCont = x;
                if (x.Contains("\"lon\":"))
                    lonCont = x;
            }
    //Console.WriteLine("latcont:"+latCont);
    //Console.WriteLine("loncont:" + lonCont);
            lat = Double.Parse(latCont.Split("\"")[3]);
            lon = Double.Parse(lonCont.Split("\"")[3]);
    //lat = Double.Parse(result.Split("\"")[29]);
    //lon = Double.Parse(result.Split("\"")[33]);
        }
    }

    // editedUser.Update(user);


    // public void SendToServer()
    // {
    //     CloudUserService.EditUser(editedUser);
    //     user.Update(editedUser);
    //     Disabled = true;
    //     display = "display: none";
    // }
    //
    // public void Cancel()
    // {
    //     Disabled = true;
    //     display = "display: none";
    //     editedUser.Update(user);
    //     StateHasChanged();
    // }



#line default
#line hidden
#nullable disable
        [global::Microsoft.AspNetCore.Components.InjectAttribute] private AuthenticationStateProvider AuthenticationStateProvider { get; set; }
        [global::Microsoft.AspNetCore.Components.InjectAttribute] private ICloudHospitalService CloudHospitalService { get; set; }
    }
}
#pragma warning restore 1591
